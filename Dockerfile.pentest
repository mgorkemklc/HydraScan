# Dockerfile.pentest

FROM kalilinux/kali-rolling

# GEREKSİZ SORMASIN DİYE
ENV DEBIAN_FRONTEND=noninteractive

# 1. TÜM ARAÇLARI TEK KOMUTTA KUR (APT İLE)
# Amass, Nuclei, Subfinder, Jadx vb. hepsi Kali deposunda var.
RUN apt-get update && apt-get install -y \
    python3 python3-pip python3-venv \
    nmap nikto sqlmap whois dnsutils \
    gobuster hydra wapiti \
    amass nuclei subfinder \
    curl wget git unzip make gcc \
    pciutils net-tools iputils-ping \
    libpcap-dev \
    default-jdk jadx \
    && rm -rf /var/lib/apt/lists/*

# 2. Python Ortamı ve Pip Araçları
RUN python3 -m venv /opt/venv
ENV PATH="/opt/venv/bin:$PATH"
RUN pip install --upgrade pip setuptools wheel
# Commix ve Apkleaks (Python tabanlılar)
RUN pip install commix apkleaks

# Çalışma dizini
WORKDIR /app

CMD ["/bin/bash"]