# Dockerfile.pentest
FROM kalilinux/kali-rolling
ENV DEBIAN_FRONTEND=noninteractive
RUN apt-get update -y && apt-get install -y --no-install-recommends \
    whois \
    dnsutils \
    subfinder \
    nmap \
    nikto \
    gobuster \
    wordlists \
    sqlmap \
    commix \
    dirb \
    ffuf \
    xsser \
    ca-certificates \
    git \
    golang \
    python3-pip \
    responder \
    samba-client \
    awscli \
    apktool && \
    pip install apkleaks --break-system-packages && \
    go install github.com/assetnote/kiterunner/cmd/kiterunner@latest && \
    go install github.com/hahwul/dalfox/v2@latest && \
    apt-get clean && rm -rf /var/lib/apt/lists/*

ENV PATH="/root/go/bin:${PATH}"