# Dockerfile.pentest

FROM kalilinux/kali-rolling

# Etkileşimsiz kurulum için
ENV DEBIAN_FRONTEND=noninteractive

# 1. Temel Araçlar ve Bağımlılıklar (Tek seferde kurulum)
RUN apt-get update && apt-get install -y \
    python3 python3-pip python3-venv \
    nmap nikto sqlmap whois dnsutils \
    gobuster hydra wapiti \
    amass nuclei subfinder \
    curl wget git unzip make gcc \
    pciutils net-tools iputils-ping \
    libpcap-dev \
    default-jdk jadx \
    && rm -rf /var/lib/apt/lists/*

# 2. Python Sanal Ortamı
RUN python3 -m venv /opt/venv
ENV PATH="/opt/venv/bin:$PATH"

# 3. Python Araçları (Commix ve Apkleaks)
RUN pip install --upgrade pip setuptools wheel
RUN pip install commix apkleaks

# Çalışma dizini
WORKDIR /app

CMD ["/bin/bash"]